<<<<<<< HEAD
document.write("<div id='aToolTip' style='position:absolute;'></div>");
var timeout1 = null;
var timeout2 = null;
$.fn.tooltip = function(o, extra)
{
	this.each(function(i)
	{
		o = $.extend( { //defaults, can be overidden
			content: (typeof o == "string") ? o : null, //string content for tooltip.
			ajax: null, //path to content for tooltip
			html: false, //Allow HTML or not
			follow: true, //does tooltip follow the cursor?
			offsetY: 10, //offsetY and offsetX properties designate position from the cursor
			offsetX: 10,
			callBefore: function(tooltip,element,settings,event) {}, //called when mouse enters the area
			callAfter: function(tooltip,element,settings,event) {}, //called when mouse leaves the area (same as "callback" option)
			clickAction: function (tooltip,element,settings,event) {}, //called when the element is clicked, with access to tooltip
			delay: 0, //delay (in milliseconds)before tooltip appears and callBefore executes
			timeout: 0, //delay (in milliseconds)before tooltip transitions away, and callAfter executes
			opacity: 100, //Opacity of tooltip in percentage
			constantx: "right", //Works with Right, left and null
			constanty: null, //Works with Top and Bottom and null
			switchside: false //Switches the tooltip to other other side of the cursor if it reaches maximum height or width
		}, o || {});
		
		var root = this;
		var tooltip = document.getElementById('aToolTip');
		var hovered = false;
		var active = false;
		var html = document.getElementsByTagName("html")[0];
		                                                 
		
		$(tooltip).hide();
		$(tooltip).css({ position: 'absolute', zIndex: '100000' });
		
		$(this).click(function(ev)
		{
			var e = ( ev ) ? ev : window.event;
			if(typeof o.clickAction == "function")
			{
				o.clickAction(tooltip, root, o, e);
			}
		});
		
		$(this).mouseover(function(ev)
		{
			var e = ( ev ) ? ev : window.event;
			show(e);
		});
		
		$(this).mouseout(function(ev)
		{
			var e = ( ev ) ? ev : window.event;
			hide(e);
		});
		
		$(this).mousemove(function(ev)
		{
			if(active && o.follow)
			{
				var e = ( ev ) ? ev : window.event;
				move(e, 100);
			}
		});
		
		function show(e)
		{
			hovered = true;
			if(o.ajax != null)
			{
				$.get(o.ajax, function(data) {
					if(data)o.content = data;
				});
			}
			if(o.content != null)
			{
				var innerhtml;
				if(!o.html) innerhtml = "<div class='tooltip'>";
				if(o.html) innerhtml = o.content;
				else innerhtml += o.content.replace(/<\/?[^>]+>/gi, '');
				if(!o.html) innerhtml += "</div>";
				$(tooltip).html(innerhtml);
			}
			if(o.opacity != null)
			{
				$(tooltip).attr({opacity: o.opacity});
			}
			opacity = o.opacity / 100;
			$(tooltip).css('opacity',opacity)
			clearTimeout(timeout2);
			timeout1 = setTimeout(function() {
				if(hovered && !active)
				{
					active = true;
					move(e, 0);
					$(tooltip).show();
					if(typeof o.callBefore == "function")
					{
						o.callBefore(tooltip, root, o, e);
					}
					if(!o.follow)
					{
						if(o.constantx == "left")
						{
							$(tooltip).animate({left: "-="+o.offsetX}, {duration: 200, queue: false});
						}
						else if(o.constantx == "right")
						{
							$(tooltip).animate({left: "+="+o.offsetX}, {duration: 200, queue: false});
						}
						if(o.constanty == "top")
						{
							$(tooltip).animate({top: "-="+o.offsetY}, {duration: 200, queue: false});
						}
						else if(o.constanty == "bottom")
						{
							$(tooltip).animate({top: "+="+o.offsetY}, {duration: 200, queue: false});
						}
					}
				}
			}, o.delay);
		}
		
		function hide(e)
		{
			hovered = false;
			if(active)
			{
				clearTimeout(timeout1);
				timeout2 = setTimeout(function() {
					if(!hovered)
					{
						$(tooltip).hide();
						active = false;
						if(typeof o.callAfter == "function")
						{
							o.callAfter(tooltip, root, o, e);
						}
					}
				}, o.timeout);
			}
		}
		
		function move(e, speed)
		{
			var scrollY = $(window).scrollTop();
			var scrollX = $(window).scrollLeft();
			if(o.follow)
			{
				var top = e.clientY + scrollY + o.offsetY;
				var left = e.clientX + scrollX + o.offsetX;
			}
			else
			{
				var top = $(root).offset().top;
				var left = $(root).offset().left + $(root).width();
				if(o.constantx == "left") left += o.offsetX;
				if(o.constanty == "top") top += o.offsetY;
			}
			
			//MAXING STUFF START
			var maxLeft = $( window ).width() + scrollX - $(tooltip).outerWidth();
			var maxTop = $( window ).height() + scrollY - $(tooltip).outerHeight();
			maxed = ( top > maxTop || left > maxLeft ) ? true : false;
			if(left - scrollX <= 0 && o.offsetX < 0)
			{
				left = scrollX;
			}
			else
			{
				if(left > maxLeft) 
				{
					if(o.switchside)
					{
						left -= $(tooltip).width() + 26;
					}
					else
					{
						left = maxLeft;
					}
				}
			}
				
			if(top - scrollY <= 0 && o.offsetY < 0)
			{
				top = scrollY;
			}
			else
			{
				if(top > maxTop)
				{
					if(o.switchside)
					{
						top -= $(tooltip).height() + 26;
					}
					else
					{
						top = maxTop;
					}
				}
			}
			//MAXING STUFF END
			$(tooltip).css({top: top, left: left});
		}
		
		if(extra == 'show')
		{
			$(document).one("mouseover", function(e){
				show(e);
			});
		}
		if(extra == 'hide')
		{
			$(document).one("click", function(e)
			{
				hide(e);
			});
		}
		
	});
};

function toolTip(element, o, ev)
{
	$(element).tooltip(o, 'show');
}
=======
$(document).ready(function(){$("body").append("<div id='aToolTip' style='position:absolute;'></div>")});var timeout1=null;var timeout2=null;$.fn.tooltip=function(o,n){this.each(function(i){o=$.extend({content:(typeof o=="string")?o:null,ajax:null,html:false,follow:false,offsetY:10,offsetX:10,callBefore:function(a,b,c,d){},callAfter:function(a,b,c,d){},clickAction:function(a,b,c,d){},delay:0,timeout:0,opacity:100,constantx:"right",constanty:null,switchside:false},o||{});var j=this;var k=document.getElementById('aToolTip');var l=false;var m=false;$(k).hide();$(k).css({position:'absolute',zIndex:'100000'});$(this).click(function(a){var e=(a)?a:window.event;if(typeof o.clickAction=="function"){o.clickAction(k,j,o,e)}});$(this).mouseover(function(a){var e=(a)?a:window.event;show(e)});$(this).mouseout(function(a){var e=(a)?a:window.event;hide(e)});$(this).mousemove(function(a){if(m&&o.follow){var e=(a)?a:window.event;move(e,100)}});function show(e){l=true;if(o.ajax!=null){$.get(o.ajax,function(a){if(a)o.content=a})}if(o.content!=null){var b;if(!o.html)b="<div class='tooltip'>";if(o.html)b=o.content;else b+=o.content.replace(/<\/?[^>]+>/gi,'');if(!o.html)b+="</div>";$(k).html(b)}if(o.opacity!=null){$(k).attr({opacity:o.opacity})}opacity=o.opacity/100;$(k).css('opacity',opacity);clearTimeout(timeout2);timeout1=setTimeout(function(){if(l&&!m){m=true;move(e,0);$(k).show();if(typeof o.callBefore=="function"){o.callBefore(k,j,o,e)}if(!o.follow){if(o.constantx=="left"){$(k).animate({left:"-="+o.offsetX},{duration:200,queue:false})}else if(o.constantx=="right"){$(k).animate({left:"+="+o.offsetX},{duration:200,queue:false})}if(o.constanty=="top"){$(k).animate({top:"-="+o.offsetY},{duration:200,queue:false})}else if(o.constanty=="bottom"){$(k).animate({top:"+="+o.offsetY},{duration:200,queue:false})}}}},o.delay)}function hide(e){l=false;if(m){clearTimeout(timeout1);timeout2=setTimeout(function(){if(!l){$(k).hide();m=false;if(typeof o.callAfter=="function"){o.callAfter(k,j,o,e)}}},o.timeout)}}function move(e,a){var b=$(window).scrollTop();var c=$(window).scrollLeft();if(o.follow){var d=e.clientY+b+o.offsetY;var f=e.clientX+c+o.offsetX}else{var g=$(j).position();var d=g.top;var f=g.left+$(j).width();if(o.constantx=="left")f+=o.offsetX;if(o.constanty=="top")d+=o.offsetY}var h=$(window).width()+c-$(k).outerWidth();var i=$(window).height()+b-$(k).outerHeight();maxed=(d>i||f>h)?true:false;if(f-c<=0&&o.offsetX<0){f=c}else{if(f>h){if(o.switchside){f-=$(k).width()+26}else{f=h}}}if(d-b<=0&&o.offsetY<0){d=b}else{if(d>i){if(o.switchside){d-=$(k).height()+26}else{d=i}}}$(k).css({top:d,left:f})}if(n=='show'){$(document).one("mouseover",function(e){show(e)})}if(n=='hide'){$(document).one("click",function(e){hide(e)})}})};function toolTip(a,o,b){$(a).tooltip(o,'show')}
>>>>>>> origin/master
